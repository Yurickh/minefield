(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(n,e,t){"use strict";t.r(e);var r=t(0),o=t.n(r),u=t(5),c=t.n(u),i=t(3),a=t(1),l=Object(a.a)("h1",{target:"e3kmn8k0"})({name:"1ba77he",styles:"font-size:2.5em;"});var s=Object(a.a)("button",{target:"e10j4uef0"})("display:flex;justify-content:center;align-items:center;font-size:1.5em;height:2em;width:2em;padding:0.2em;font-family:sans-serif;font-weight:bold;border:none;",function(n){return!n.visible&&"\n    border: 0.3em outset #686868;\n    border-top-color: #aeaeae;\n  "}," ",function(n){var e=n.children;return"\ud83d\udca3 "!==e&&"color: ".concat(["blue","green","red","dark-blue","brown","cyan","black","gray"][e-1],";")}," background-color:#b2b2b2;cursor:pointer;box-sizing:border-box;user-select:none;:active{border:none;padding:0.481em;}");var m=o.a.memo(function(n){var e,t=n.cell,r=n.selectCell,u=n.markCell,c=n.selectCellsAround;return o.a.createElement(s,{visible:t.visible,onClick:r,onDoubleClick:c,onContextMenu:(e=u,function(n){n.preventDefault(),e()})},function(n){return n.marked?"\ud83d\udea9 ":n.visible?n.isMine?"\ud83d\udca3 ":n.minesAround||"":""}(t))}),f=t(2),b=t(6),d=t(7),w=function(n,e){return function(){return n(e.apply(void 0,arguments))}};function v(n){var e=n.numCols,t=n.numRows,r=function(n){return Object(f.a)({},n,{row:n.row-1})},o=function(n){return Object(f.a)({},n,{row:n.row+1})},u=function(n){return Object(f.a)({},n,{col:n.col-1})},c=function(n){return Object(f.a)({},n,{col:n.col+1})},i=function(n,e){return e<0||e>=n};return function(n){return[w(r,u),r,w(r,c),u,c,w(o,u),o,w(o,c)].map(function(e){return e(n)}).filter(function(n){var r=n.col,o=n.row;return!i(e,r)&&!i(t,o)})}}function p(n){var e=n.numCols;return function(n){var t=n.col;return n.row*e+t}}function C(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(Math.random()*(n-e))+e}var j={visible:!1,isMine:!1,minesAround:0,marked:!1};function k(n,e){return function e(t,r){if(r<=0)return t;var o=function(n){return function(e,t){var r;do{r=C(e,t)}while(n.includes(r));return r}}(t)(n);return e([].concat(Object(d.a)(t),[o]),r-1)}([],e)}function O(n){var e=n.numMines,t=n.numCols,r=n.numRows,o=Array(t*r).fill(j),u=v({numCols:t,numRows:r}),c=k(t*r,e),i=o.map(function(n,e){return c.includes(e)?Object(f.a)({},n,{isMine:!0}):n}),a=function(n){var e=n.numCols;return function(n){return{col:n%e,row:Math.floor(n/e)}}}({numCols:t,numRows:r}),l=p({numCols:t,numRows:r}),s=i.map(function(n,e){return Object(f.a)({},n,{minesAround:u(a(e)).map(function(n){return i[l(n)]}).filter(function(n){return n.isMine}).length})});return Array(r).fill(0).map(function(n,e){return e*t}).map(function(n){return s.slice(n,n+t)})}var g=o.a.createContext(function(){throw new Error("Trying to consume AppContext without wrapping provider.")});var h=Object(a.a)("div",{target:"e1cf1hp0"})({name:"k008qs",styles:"display:flex;"}),y=Object(a.a)("div",{target:"e1cf1hp1"})("width:",function(n){return 3*n.numCols},"em;height:",function(n){return 3*n.numRows},"em;");function M(n){var e=n.numMines,t=n.numCols,u=n.numRows,c=function(n){var e=n.numCols,t=n.numRows,o=n.numMines,u=Object(r.useContext)(g),c=u.onBomb,a=u.locked,l=Object(r.useState)([[]]),s=Object(i.a)(l,2),m=s[0],d=s[1],w=v(n),C=p(n);Object(r.useEffect)(function(){d(O({numCols:e,numRows:t,numMines:o}))},[e,t,o]);var j=function(n){var e=n.col,t=n.row;return function(n){return d(function(r){return Object(b.a)(r,function(r){r[t][e]=Object(f.a)({},r[t][e],n)})})}},k=Object(r.useRef)(new Set);return[m,{selectCell:function n(e){var t=e.row,r=e.col,o=m[t][r];if(!a&&!o.marked){if(j({row:t,col:r})({visible:!0}),o.isMine)return c();0===o.minesAround&&w({row:t,col:r}).forEach(function(e){k.current.has(C(e))||(k.current.add(C(e)),n(e))})}},markCell:function(n){var e=n.col,t=n.row,r=m[t][e];a||r.visible||j({col:e,row:t})({marked:!r.marked})}}]}({numMines:e,numCols:t,numRows:u}),a=Object(i.a)(c,2),l=a[0],s=a[1],d=s.selectCell,w=s.markCell,C=l.reduce(function(n,e){return n+e.reduce(function(n,e){return n+(e.marked?1:0)},0)},0),j=v({numCols:t,numRows:u});return o.a.createElement(y,{numCols:t,numRows:u},l.map(function(n,e){return o.a.createElement(h,{key:e},n.map(function(n,t){return o.a.createElement(m,{cell:n,key:t,selectCell:function(){return d({row:e,col:t})},selectCellsAround:function(){return j({row:e,col:t}).forEach(d)},markCell:function(){return w({row:e,col:t})}})}))}),o.a.createElement("div",null,C," / ",e))}M.defaultProps={numMines:0,numCols:1,numRows:1};var E=Object(a.a)("main",{target:"eni752x0"})({name:"16sldfw",styles:"display:flex;flex-direction:column;align-items:center;padding:5vh 25vw;"}),R=Object(a.a)("button",{target:"eni752x1"})({name:"1bstjy",styles:"padding:0.5em 1em;background-color:blue;color:#fff;border-radius:5px;cursor:pointer;border:none;font-size:1em;"});var x=function(){var n=Object(r.useState)(0),e=Object(i.a)(n,2),t=e[0],u=e[1],c=Object(r.useState)(!1),a=Object(i.a)(c,2),s=a[0],m=a[1],f=Object(r.useCallback)(function(){u(function(n){return n+1}),m(!1)},[u,m]),b=Object(r.useMemo)(function(){return{locked:s,onBomb:function(){return m(!0)}}},[m,s]);return o.a.createElement(g.Provider,{value:b},o.a.createElement(E,null,o.a.createElement(l,null,"Minesweeper"),o.a.createElement(M,{key:t,numCols:16,numRows:16,numMines:40}),o.a.createElement(R,{onClick:f},"Restart")))};c.a.render(o.a.createElement(x,null),document.getElementById("root"))},8:function(n,e,t){n.exports=t(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.4d151c78.chunk.js.map