(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),u=t(6),c=t.n(u),a=t(3),i=t(1),l=Object(i.a)("h1",{target:"e3kmn8k0"})({name:"1ba77he",styles:"font-size:2.5em;"});var s=Object(i.a)("button",{target:"e10j4uef0"})("display:flex;justify-content:center;align-items:center;font-size:1.5em;height:2em;width:2em;padding:0.2em;font-family:sans-serif;font-weight:bold;border:none;",function(e){return!e.visible&&"\n    border: 0.3em outset #686868;\n    border-top-color: #aeaeae;\n  "}," ",function(e){var n=e.children;return"\ud83d\udca3 "!==n&&"color: ".concat(["blue","green","red","dark-blue","brown","cyan","black","gray"][n-1],";")}," background-color:#b2b2b2;cursor:pointer;box-sizing:border-box;user-select:none;:active{border:none;padding:0.481em;}");var f=o.a.memo(function(e){var n,t=e.cell,r=e.selectCell,u=e.markCell;return o.a.createElement(s,{visible:t.visible,onClick:r,onContextMenu:(n=u,function(e){e.preventDefault(),n()})},function(e){return e.marked?"\ud83d\udea9 ":e.visible?e.isMine?"\ud83d\udca3 ":e.minesAround||"":""}(t))}),m=t(2),b=t(7),d=t(5);function v(e){var n=e.numCols;return function(e){return{col:e%n,row:Math.floor(e/n)}}}function w(e){var n=e.numCols;return function(e){var t=e.col;return e.row*n+t}}var p=function(e,n){return function(){return e(n.apply(void 0,arguments))}};function j(e){var n=e.numCols,t=e.numRows,r=function(e){return Object(m.a)({},e,{row:e.row-1})},o=function(e){return Object(m.a)({},e,{row:e.row+1})},u=function(e){return Object(m.a)({},e,{col:e.col-1})},c=function(e){return Object(m.a)({},e,{col:e.col+1})},a=v({numCols:n}),i=function(e,n){return n<0||n>=e};return function(e){return[p(r,u),r,p(r,c),u,c,p(o,u),o,p(o,c)].map(function(n){return n(a(e))}).filter(function(e){var r=e.col,o=e.row;return!i(n,r)&&!i(t,o)}).map(w({numCols:n}))}}function O(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(Math.random()*(e-n))+n}var C={visible:!1,isMine:!1,minesAround:0,marked:!1};function k(e,n){return function n(t,r){if(r<=0)return t;var o=function(e){return function(n,t){var r;do{r=O(n,t)}while(e.includes(r));return r}}(t)(e);return n([].concat(Object(d.a)(t),[o]),r-1)}([],n)}var g=o.a.createContext(function(){throw new Error("Trying to consume AppContext without wrapping provider.")});function h(e){var n=Object(r.useContext)(g),t=n.onBomb,o=n.locked,u=Object(r.useState)([[]]),c=Object(a.a)(u,2),i=c[0],l=c[1],s=j(e),f=v(e),p=w(e);!function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=Object(r.useState)(!1),o=Object(a.a)(t,2),u=o[0],c=o[1];Object(r.useEffect)(function(){u||(c(!0),e())},[].concat(Object(d.a)(n),[u,c,e]))}(function(){l(function(e){var n=e.numMines,t=e.numCols,r=e.numRows,o=Array(t*r).fill(C),u=j({numCols:t,numRows:r}),c=k(t*r,n),a=o.map(function(e,n){return c.includes(n)?Object(m.a)({},e,{isMine:!0}):e}),i=a.map(function(e,n){return Object(m.a)({},e,{minesAround:u(n).map(function(e){return a[e]}).filter(function(e){return e.isMine}).length})});return Array(r).fill(0).map(function(e,n){return n*t}).map(function(e){return i.slice(e,e+t)})}(e))});var O=function(e){var n=e.col,t=e.row;return function(e){return l(function(r){return Object(b.a)(r,function(r){r[t][n]=Object(m.a)({},r[t][n],e)})})}},h=Object(r.useRef)(new Set);return[i,{selectCell:function e(n){var r=n.row,u=n.col,c=i[r][u];if(!o&&!c.marked){if(O({row:r,col:u})({visible:!0}),c.isMine)return t();0===c.minesAround&&s(p({row:r,col:u})).forEach(function(n){h.current.has(n)||(h.current.add(n),e(f(n)))})}},markCell:function(e){var n=e.col,t=e.row;o||O({col:n,row:t})({marked:!i[t][n].marked})}}]}var y=Object(i.a)("div",{target:"e1cf1hp0"})({name:"k008qs",styles:"display:flex;"}),M=Object(i.a)("div",{target:"e1cf1hp1"})("width:",function(e){return 3*e.numCols},"em;height:",function(e){return 3*e.numRows},"em;");function E(e){var n=e.numMines,t=e.numCols,r=e.numRows,u=h({numMines:n,numCols:t,numRows:r}),c=Object(a.a)(u,2),i=c[0],l=c[1],s=l.selectCell,m=l.markCell,b=i.reduce(function(e,n){return e+n.reduce(function(e,n){return e+(n.marked?1:0)},0)},0);return o.a.createElement(M,{numCols:t,numRows:r},i.map(function(e,n){return o.a.createElement(y,{key:n},e.map(function(e,t){return o.a.createElement(f,{cell:e,key:t,selectCell:function(){return s({row:n,col:t})},markCell:function(){return m({row:n,col:t})}})}))}),o.a.createElement("div",null,b," / ",n))}E.defaultProps={numMines:0,numCols:1,numRows:1};var x=Object(i.a)("main",{target:"eni752x0"})({name:"16sldfw",styles:"display:flex;flex-direction:column;align-items:center;padding:5vh 25vw;"}),R=Object(i.a)("button",{target:"eni752x1"})({name:"1bstjy",styles:"padding:0.5em 1em;background-color:blue;color:#fff;border-radius:5px;cursor:pointer;border:none;font-size:1em;"});var A=function(){var e=Object(r.useState)(0),n=Object(a.a)(e,2),t=n[0],u=n[1],c=Object(r.useState)(!1),i=Object(a.a)(c,2),s=i[0],f=i[1],m=Object(r.useCallback)(function(){u(function(e){return e+1}),f(!1)},[u,f]),b=Object(r.useMemo)(function(){return{locked:s,onBomb:function(){return f(!0)}}},[f,s]);return o.a.createElement(g.Provider,{value:b},o.a.createElement(x,null,o.a.createElement(l,null,"Minesweeper"),o.a.createElement(E,{key:t,numCols:16,numRows:16,numMines:40}),o.a.createElement(R,{onClick:m},"Restart")))};c.a.render(o.a.createElement(A,null),document.getElementById("root"))},8:function(e,n,t){e.exports=t(15)}},[[8,2,1]]]);
//# sourceMappingURL=main.efc74f0d.chunk.js.map