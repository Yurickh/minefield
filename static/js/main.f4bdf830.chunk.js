(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),u=t(5),c=t.n(u),a=t(3),i=t(1),l=Object(i.a)("h1",{target:"e3kmn8k0"})({name:"1ba77he",styles:"font-size:2.5em;"});var s=Object(i.a)("button",{target:"e10j4uef0"})("display:flex;justify-content:center;align-items:center;font-size:1.5em;height:2em;width:2em;padding:0.2em;font-family:sans-serif;font-weight:bold;border:none;",function(e){return!e.visible&&"\n    border: 0.3em outset #686868;\n    border-top-color: #aeaeae;\n  "}," ",function(e){var n=e.children;return"\ud83d\udca3 "!==n&&"color: ".concat(["blue","green","red","dark-blue","brown","cyan","black","gray"][n-1],";")}," background-color:#b2b2b2;cursor:pointer;box-sizing:border-box;user-select:none;:active{border:none;padding:0.481em;}");var m=o.a.memo(function(e){var n,t=e.cell,r=e.selectCell,u=e.markCell;return o.a.createElement(s,{visible:t.visible,onClick:r,onContextMenu:(n=u,function(e){e.preventDefault(),n()})},function(e){return e.marked?"\ud83d\udea9 ":e.visible?e.isMine?"\ud83d\udca3 ":e.minesAround||"":""}(t))}),f=t(7),b=t(2),d=t(6);function v(e){var n=e.numCols;return function(e){return{col:e%n,row:Math.floor(e/n)}}}function w(e){var n=e.numCols;return function(e){var t=e.col;return e.row*n+t}}var p=function(e,n){return function(){return e(n.apply(void 0,arguments))}};function j(e){var n=e.numCols,t=e.numRows,r=function(e){return Object(b.a)({},e,{row:e.row-1})},o=function(e){return Object(b.a)({},e,{row:e.row+1})},u=function(e){return Object(b.a)({},e,{col:e.col-1})},c=function(e){return Object(b.a)({},e,{col:e.col+1})},a=v({numCols:n}),i=function(e,n){return n<0||n>=e};return function(e){return[p(r,u),r,p(r,c),u,c,p(o,u),o,p(o,c)].map(function(n){return n(a(e))}).filter(function(e){var r=e.col,o=e.row;return!i(n,r)&&!i(t,o)}).map(w({numCols:n}))}}function C(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(Math.random()*(e-n))+n}var O={visible:!1,isMine:!1,minesAround:0,marked:!1};function g(e){var n=e.numMines,t=e.numCols,r=e.numRows,o=Array(t*r).fill(O),u=j({numCols:t,numRows:r}),c=Array(n).fill(0).map(function(e,n,o){return(u=o,function(e,n){var t;do{t=C(e,n)}while(u.includes(t));return t})(t*r);var u}),a=o.map(function(e,n){return c.includes(n)?Object(b.a)({},e,{isMine:!0}):e}),i=a.map(function(e,n){return Object(b.a)({},e,{minesAround:u(n).map(function(e){return a[e]}).filter(function(e){return e.isMine}).length})});return Array(r).fill(0).map(function(e,n){return n*t}).map(function(e){return i.slice(e,e+t)})}var k=o.a.createContext(function(){throw new Error("Trying to consume AppContext without wrapping provider.")});function h(e){var n=Object(r.useContext)(k),t=n.onBomb,o=n.locked,u=Object(r.useState)([[]]),c=Object(a.a)(u,2),i=c[0],l=c[1],s=j(e),m=v(e),p=w(e);!function(e){var n=Object(r.useState)(!1),t=Object(a.a)(n,2),o=t[0],u=t[1];Object(r.useEffect)(function(){o||(u(!0),e())})}(function(){l(g(e))});var C=function(e){var n=e.col,t=e.row;return function(e){return l(function(r){return Object(d.a)(r,function(r){r[t][n]=Object(b.a)({},r[t][n],e)})})}};return[i,{selectCell:function e(n){var r=n.row,u=n.col,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=i[r][u];if(!o&&!a.marked){if(C({row:r,col:u})({visible:!0}),a.isMine)return t();0===a.minesAround&&s(p({row:r,col:u})).forEach(function(n){c.includes(n)||e(m(n),[].concat(Object(f.a)(c),[n]))})}},markCell:function(e){var n=e.col,t=e.row;o||C({col:n,row:t})({marked:!i[t][n].marked})}}]}var y=Object(i.a)("div",{target:"e1cf1hp0"})({name:"k008qs",styles:"display:flex;"}),M=Object(i.a)("div",{target:"e1cf1hp1"})("width:",function(e){return 3*e.numCols},"em;height:",function(e){return 3*e.numRows},"em;");function x(e){var n=e.numMines,t=e.numCols,r=e.numRows,u=h({numMines:n,numCols:t,numRows:r}),c=Object(a.a)(u,2),i=c[0],l=c[1],s=l.selectCell,f=l.markCell;return o.a.createElement(M,{numCols:t,numRows:r},i.map(function(e,n){return o.a.createElement(y,{key:n},e.map(function(e,t){return o.a.createElement(m,{cell:e,key:t,selectCell:function(){return s({row:n,col:t})},markCell:function(){return f({row:n,col:t})}})}))}))}x.defaultProps={numMines:0,numCols:1,numRows:1};var E=Object(i.a)("main",{target:"eni752x0"})({name:"16sldfw",styles:"display:flex;flex-direction:column;align-items:center;padding:5vh 25vw;"}),R=Object(i.a)("button",{target:"eni752x1"})({name:"1bstjy",styles:"padding:0.5em 1em;background-color:blue;color:#fff;border-radius:5px;cursor:pointer;border:none;font-size:1em;"});var A=function(){var e=Object(r.useState)(0),n=Object(a.a)(e,2),t=n[0],u=n[1],c=Object(r.useState)(!1),i=Object(a.a)(c,2),s=i[0],m=i[1],f=Object(r.useCallback)(function(){u(function(e){return e+1}),m(!1)},[u,m]),b=Object(r.useMemo)(function(){return{locked:s,onBomb:function(){return m(!0)}}},[m,s]);return o.a.createElement(k.Provider,{value:b},o.a.createElement(E,null,o.a.createElement(l,null,"Minesweeper"),o.a.createElement(x,{key:t,numCols:10,numRows:10,numMines:30}),o.a.createElement(R,{onClick:f},"Restart")))};c.a.render(o.a.createElement(A,null),document.getElementById("root"))},8:function(e,n,t){e.exports=t(15)}},[[8,2,1]]]);
//# sourceMappingURL=main.f4bdf830.chunk.js.map